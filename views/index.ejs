<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="/styles.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>
        <%= title %>
    </title>
</head>

<body>
    <div id="header">
        <h1>Game Inventory Application</h1><a href="/new">Add Game</a>
    </div>


    <main>
        <section id="all-games-section">
            <h2>All Games</h2>
            <div id="games-container">
                <% games.forEach((game, index)=> { %>
                    <article class="game-card">
                        <div class="game-cover">
                            <img src="<%= game.cover_src ? game.cover_src : 'https://placehold.co/150x200' %>"
                                alt="<%= game.title %> Cover" />
                        </div>
                        <div class="game-footer">
                            <p class="game-title">
                                <strong>Title: </strong>
                                <%= game.title %>
                            </p>
                            <p class="game-genres"><strong>Genres: </strong>
                                <%= game.genres %>
                            </p>
                            <p class="game-devs"><strong>Developers: </strong>
                                <%= game.devs %>
                            </p>
                            <%- include("partials/errors.ejs") %>

                                <form action="/delete-game" method="GET" class="delete-game-form"
                                    onsubmit="return confirm(`Are you sure you want to delete <%= game.title %>?`)">
                                    <input type="hidden" name="game_title" value="<%= game.title %>">
                                    <button type="submit">Delete Game</button>
                                </form>
                        </div>

                    </article>
                    <% }) %>
            </div>
        </section>

        <section id="genre-section">
            <h2>Genres</h2>
            <div id="genre-container">
                <% genres.forEach((genre, index)=>{ %>
                    <a href="/genres/<%= genre.genre %>" class="genre-card">
                        <%= genre.genre %>

                    </a>
                    <% }) %>
            </div>
        </section>

    </main>

</body>

</html>